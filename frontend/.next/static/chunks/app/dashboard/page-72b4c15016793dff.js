(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{960:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseURL).concat(e),s={...t,headers:{"Content-Type":"application/json",...t.headers}};try{let e=await fetch(r,s);if(!e.ok){let t=await e.json().catch(()=>({detail:"Request failed"}));throw Error(t.detail||"HTTP ".concat(e.status))}return await e.json()}catch(t){throw console.error("API Error [".concat(e,"]:"),t),t}}async healthCheck(){return this.request("/health")}async listPosts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return this.request("/api/posts?".concat(t))}async getPost(e){return this.request("/api/posts/".concat(e))}async updatePost(e,t){return this.request("/api/posts/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deletePost(e){return this.request("/api/posts/".concat(e),{method:"DELETE"})}async getStats(){return this.request("/api/posts/stats/overview")}async generatePost(e){return this.request("/api/generate/",{method:"POST",body:JSON.stringify(e)})}async getJobStatus(e){return this.request("/api/generate/status/".concat(e))}async listJobs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1?arguments[1]:void 0,r=new URLSearchParams({limit:e.toString()});return t&&r.append("status",t),this.request("/api/generate/jobs?".concat(r))}async deleteJob(e){return this.request("/api/generate/jobs/".concat(e),{method:"DELETE"})}async search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=new URLSearchParams({q:e,limit:t.toString()});return this.request("/api/search/?".concat(r))}async getSuggestions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=new URLSearchParams({query:e,limit:t.toString()});return this.request("/api/search/suggestions?".concat(r))}createWebSocket(e){let t=this.baseURL.replace("http","ws");return new WebSocket("".concat(t,"/api/generate/ws/").concat(e))}constructor(e="http://localhost:8000"){this.baseURL=e}}let a=new s},6554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5155),a=r(2115),l=r(63),o=r(960);function n(){let e=(0,l.useRouter)(),{generate:t,isGenerating:r,status:n,error:i,logs:d,progress:c}=function(){let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[c,g]=(0,a.useState)([]),h=(0,a.useCallback)(async e=>{t(!0),d(null),g([]);try{let t=await o.F.generatePost(e);return s(t.job_id),t.job_id}catch(e){throw d(e.message||"Failed to start generation"),t(!1),e}},[]);return(0,a.useEffect)(()=>{if(!r||!e)return;let s=setInterval(async()=>{try{let e=await o.F.getJobStatus(r);n(e),("completed"===e.status||"failed"===e.status)&&(t(!1),clearInterval(s),"failed"===e.status&&d(e.error||"Generation failed"))}catch(e){console.error("Error polling status:",e),d(e.message),t(!1),clearInterval(s)}},2e3);return()=>clearInterval(s)},[r,e]),(0,a.useEffect)(()=>{if(!r)return;let e=null;try{(e=o.F.createWebSocket(r)).onopen=()=>{},e.onmessage=e=>{let t=JSON.parse(e.data);t.message&&g(e=>[...e,{message:t.message,timestamp:t.timestamp}]),t.status&&n(e=>({...e,status:t.status,progress:t.progress||(null==e?void 0:e.progress)||0}))},e.onerror=e=>{console.error("WebSocket error:",e)},e.onclose=()=>{};let t=setInterval(()=>{(null==e?void 0:e.readyState)===WebSocket.OPEN&&e.send("ping")},25e3);return()=>{clearInterval(t),null==e||e.close()}}catch(e){console.error("WebSocket connection failed:",e)}},[r]),{generate:h,reset:(0,a.useCallback)(()=>{t(!1),s(null),n(null),d(null),g([])},[]),isGenerating:e,jobId:r,status:l,error:i,logs:c,progress:(null==l?void 0:l.progress)||0}}(),[g,h]=(0,a.useState)({topic:"",length:"medium",style:"informative",tone:"professional",categories:"",tags:""}),u=async e=>{e.preventDefault();try{await t({topic:g.topic,length:g.length,style:g.style,tone:g.tone,categories:g.categories?g.categories.split(",").map(e=>e.trim()):[],tags:g.tags?g.tags.split(",").map(e=>e.trim()):[]})}catch(e){console.error("Generation error:",e)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Content Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate AI-powered blog posts with advanced SEO optimization"})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 mb-8",children:(0,s.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Blog Topic *"}),(0,s.jsx)("input",{type:"text",value:g.topic,onChange:e=>h({...g,topic:e.target.value}),placeholder:"Enter your blog topic...",required:!0,disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Length"}),(0,s.jsxs)("select",{value:g.length,onChange:e=>h({...g,length:e.target.value}),disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)("option",{value:"short",children:"Short (600-1000 words)"}),(0,s.jsx)("option",{value:"medium",children:"Medium (1000-1500 words)"}),(0,s.jsx)("option",{value:"long",children:"Long (1500-2500 words)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Style"}),(0,s.jsx)("input",{type:"text",value:g.style,onChange:e=>h({...g,style:e.target.value}),placeholder:"e.g., informative, technical, casual",disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tone"}),(0,s.jsx)("input",{type:"text",value:g.tone,onChange:e=>h({...g,tone:e.target.value}),placeholder:"e.g., professional, friendly, authoritative",disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Categories (comma-separated)"}),(0,s.jsx)("input",{type:"text",value:g.categories,onChange:e=>h({...g,categories:e.target.value}),placeholder:"technology, ai, development",disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma-separated)"}),(0,s.jsx)("input",{type:"text",value:g.tags,onChange:e=>h({...g,tags:e.target.value}),placeholder:"tutorial, guide, howto",disabled:r,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:!g.topic||r,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:r?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-3",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating... ",c,"%"]}):"\uD83D\uDE80 Generate Blog Post"})]})}),r&&(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 mb-8",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Generation Progress"}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300",children:[(0,s.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,s.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),(null==n?void 0:n.status)||"queued"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{className:"font-semibold",children:[c,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden shadow-inner",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 h-full transition-all duration-500 ease-out relative overflow-hidden",style:{width:"".concat(c,"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),(0,s.jsxs)("div",{className:"mt-6 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-4 py-2",children:(0,s.jsxs)("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Activity Log"]})}),(0,s.jsx)("div",{className:"p-4 max-h-80 overflow-y-auto custom-scrollbar",children:d.length>0?(0,s.jsx)("div",{className:"space-y-2",children:d.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors animate-fadeIn",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,s.jsx)("span",{className:"flex-shrink-0 text-indigo-500 dark:text-indigo-400 font-bold mt-0.5",children:"→"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 break-words",children:e.message}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))}):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,s.jsx)("p",{className:"text-sm",children:"Waiting for activity..."})]})})]})]})}),(null==n?void 0:n.status)==="completed"&&n.result&&(0,s.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20  rounded-2xl shadow-xl p-8 border-2 border-green-200 dark:border-green-700",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"✨ Content Generated Successfully!"}),(0,s.jsxs)("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Title:"})," ",n.result.title||"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Slug:"})," ",n.result.slug||"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Word Count:"})," ",n.result.word_count||0," words"]}),void 0!==n.result.seo_score&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"SEO Score:"})," ",n.result.seo_score,"/100"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Iterations:"})," ",n.result.iterations||0]})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{var t;(null==n||null==(t=n.result)?void 0:t.slug)?e.push("/blog/".concat(n.result.slug)):(console.error("No slug available:",null==n?void 0:n.result),alert("Post slug not found. Please check the generation results."))},className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-lg transition-all",children:"View Post"}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded-lg transition-all",children:"Generate Another"})]})]})]})}),i&&(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-2xl shadow-xl p-6 border-2 border-red-200 dark:border-red-700",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-1",children:"Generation Failed"}),(0,s.jsx)("p",{className:"text-red-600 dark:text-red-400",children:i})]})]})})]})})}},9551:(e,t,r)=>{Promise.resolve().then(r.bind(r,6554))}},e=>{e.O(0,[121,358],()=>e(e.s=9551)),_N_E=e.O()}]);